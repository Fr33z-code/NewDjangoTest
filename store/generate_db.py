import os
import django
import random
from datetime import timedelta
from django.utils import timezone

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'store.settings')
django.setup()

from catalog.models import Product


def create_products():
    Product.objects.all().delete()

    categories = {
        'coat': [
            ("–ù–æ—Ä–∫–æ–≤–∞—è —à—É–±–∞ ¬´–ó–∏–º–Ω—è—è –∫–æ—Ä–æ–ª–µ–≤–∞¬ª", "–≠–ª–µ–≥–∞–Ω—Ç–Ω–∞—è —Ç—ë–ø–ª–∞—è —à—É–±–∞ –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –Ω–æ—Ä–∫–æ–≤–æ–≥–æ –º–µ—Ö–∞."),
            ("–®—É–±–∞ –∏–∑ —á–µ—Ä–Ω–æ–±—É—Ä–∫–∏ ¬´–°–µ–≤–µ—Ä–Ω–æ–µ —Å–∏—è–Ω–∏–µ¬ª", "–ü—É—à–∏—Å—Ç–∞—è, —É—é—Ç–Ω–∞—è –∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —Ç—ë–ø–ª–∞—è ‚Äî –≤—ã–±–æ—Ä –¥–ª—è —Ö–æ–ª–æ–¥–Ω—ã—Ö –∑–∏–º."),
            ("–®—É–±–∞ –∏–∑ –æ–≤—á–∏–Ω—ã ¬´–ú—è–≥–∫–æ–µ –∫–∞—Å–∞–Ω–∏–µ¬ª", "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –æ–≤—á–∏–Ω–Ω–∞—è —à—É–±–∞ —Å –∫–∞–ø—é—à–æ–Ω–æ–º."),
            ("–ü–∞–ª—å—Ç–æ –∏–∑ –∫–∞—Ä–∞–∫—É–ª—è ¬´–ì–æ—Ä–æ–¥—Å–∫–æ–π —à–∏–∫¬ª", "–ò–¥–µ–∞–ª—å–Ω–æ —Å–∏–¥–∏—Ç –ø–æ —Ñ–∏–≥—É—Ä–µ –∏ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç —Å—Ç–∏–ª—å."),
            ("–ü–∞–ª—å—Ç–æ –º–µ—Ö–æ–≤–æ–µ ¬´–õ—ë–¥ –∏ –ø–ª–∞–º—è¬ª", "–õ–∞–∫–æ–Ω–∏—á–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ —Ç–µ–ø–ª–∞ –∏ –º–∏–Ω–∏–º–∞–ª–∏–∑–º–∞."),
        ],
        'fur': [
            ("–ñ–∏–ª–µ—Ç –∏–∑ –ª–∏—Å—ã ¬´–û–≥–Ω–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å¬ª", "–õ—ë–≥–∫–∏–π –º–µ—Ö–æ–≤–æ–π –∂–∏–ª–µ—Ç –¥–ª—è —Ç—ë–ø–ª–æ–π –æ—Å–µ–Ω–∏."),
            ("–ù–∞–∫–∏–¥–∫–∞ –∏–∑ –∫—Ä–æ–ª–∏–∫–∞ ¬´–ë–µ–ª—ã–π —Ç—É–º–∞–Ω¬ª", "–ö–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è –∏ –º—è–≥–∫–∞—è –º–µ—Ö–æ–≤–∞—è –Ω–∞–∫–∏–¥–∫–∞."),
            ("–ñ–∞–∫–µ—Ç –∏–∑ –æ–≤—á–∏–Ω—ã ¬´–ú–∏–ª–∞–Ω–æ¬ª", "–õ—ë–≥–∫–∏–π –∂–∞–∫–µ—Ç –∏–∑ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–≥–æ –º–µ—Ö–∞ –æ–≤—á–∏–Ω—ã."),
            ("–ñ–∏–ª–µ—Ç –∏–∑ –µ–Ω–æ—Ç–∞ ¬´–°–µ–≤–µ—Ä¬ª", "–¢—ë–ø–ª—ã–π –∏ –º–æ–¥–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –º–µ–∂—Å–µ–∑–æ–Ω—å—è."),
            ("–ñ–∏–ª–µ—Ç ¬´–ö–∞–ø—É—á–∏–Ω–æ¬ª –∏–∑ —Å—Ç—Ä–∏–∂–µ–Ω–æ–≥–æ –∫—Ä–æ–ª–∏–∫–∞", "–ù–µ–∂–Ω—ã–π –Ω–∞ –æ—â—É–ø—å –∏ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–æ —Å—Ç–∏–ª—é."),
        ],
        'jacket': [
            ("–ö–æ–∂–∞–Ω–∞—è –∫—É—Ä—Ç–∫–∞ ¬´–†–æ–∫-–Ω-—Ä–æ–ª–ª¬ª", "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å —Å –±–∞–π–∫–µ—Ä—Å–∫–∏–º–∏ –Ω–æ—Ç–∫–∞–º–∏."),
            ("–ü—É—Ö–æ–≤–∏–∫ —É–¥–ª–∏–Ω—ë–Ω–Ω—ã–π ¬´–ì—Ä–∞—Ñ–∏—Ç¬ª", "–õ—ë–≥–∫–∏–π –∏ –æ—á–µ–Ω—å —Ç—ë–ø–ª—ã–π –¥–ª—è —Å–∏–ª—å–Ω—ã—Ö –º–æ—Ä–æ–∑–æ–≤."),
            ("–ü–∞—Ä–∫–∞ —Å –º–µ—Ö–æ–º ¬´–ù–æ—Ä–¥¬ª", "–ü—Ä–∞–∫—Ç–∏—á–Ω–∞—è –∏ –¥–æ–ª–≥–æ–≤–µ—á–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –≥–æ—Ä–æ–¥–∞."),
            ("–ö—É—Ä—Ç–∫–∞ –∑–∏–º–Ω—è—è ¬´–ê–π—Å–±–µ—Ä–≥¬ª", "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å —Å –∫–∞–ø—é—à–æ–Ω–æ–º –∏ —É—Ç–µ–ø–ª–∏—Ç–µ–ª–µ–º."),
            ("–ö—É—Ä—Ç–∫–∞ –¥–µ–º–∏—Å–µ–∑–æ–Ω–Ω–∞—è ¬´–ì–æ—Ä–æ–¥¬ª", "–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω—á–∏–≤–æ–π –≤–µ—Å–µ–Ω–Ω–µ–π –ø–æ–≥–æ–¥—ã."),
        ],
        'accessory': [
            ("–®–∞–ø–∫–∞ –∫–∞—à–µ–º–∏—Ä–æ–≤–∞—è ¬´–ù–µ–∂–Ω–æ—Å—Ç—å¬ª", "–ú—è–≥–∫–∞—è –∏ —Ç—ë–ø–ª–∞—è, –æ—Ç–ª–∏—á–Ω–æ —Å–æ—á–µ—Ç–∞–µ—Ç—Å—è —Å –ø–∞–ª—å—Ç–æ."),
            ("–®–∞—Ä—Ñ —à–µ—Ä—Å—Ç—è–Ω–æ–π ¬´–°–∫–∞–Ω–¥–∏¬ª", "–¢—ë–ø–ª—ã–π –∏ —É—é—Ç–Ω—ã–π —à–∞—Ä—Ñ –¥–ª—è –∑–∏–º—ã."),
            ("–ü–µ—Ä—á–∞—Ç–∫–∏ –∫–æ–∂–∞–Ω—ã–µ ¬´–ö–ª–∞—Å—Å–∏–∫–∞¬ª", "–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ, –ø–æ–¥—Ö–æ–¥—è—Ç –∫ –ª—é–±–æ–º—É –æ–±—Ä–∞–∑—É."),
            ("–®–∞–ø–∫–∞ –º–µ—Ö–æ–≤–∞—è ¬´–†–æ—Å–∫–æ—à—å¬ª", "–° —ç—Ñ—Ñ–µ–∫—Ç–Ω—ã–º –æ–±—ä—ë–º–æ–º –∏ –∑–∞—â–∏—Ç–æ–π –æ—Ç —Ö–æ–ª–æ–¥–∞."),
            ("–®–∞—Ä—Ñ-—Ç—Ä—É–±–∞ ¬´–ú–æ–∑–∞–∏–∫–∞¬ª", "–ü—Ä–∞–∫—Ç–∏—á–Ω—ã–π –∞–∫—Å–µ—Å—Å—É–∞—Ä —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º —É–∑–æ—Ä–æ–º."),
        ]
    }

    items = []
    index = 0

    for category, products in categories.items():
        for _ in range(5):
            for name, desc in products:
                price = random.randint(
                    11000 if category == 'accessory' else 60000,
                    13000 if category == 'accessory' else 195000
                )
                items.append(Product(
                    name=name,
                    price=price,
                    category=category,
                    description=desc,
                    in_stock=False if index % 10 == 0 else True,
                    created_at=timezone.now() - timedelta(days=index),
                ))
                index += 1

    Product.objects.bulk_create(items)
    print(f"üéâ –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ {len(items)} —Ç–æ–≤–∞—Ä–æ–≤!")


if __name__ == '__main__':
    create_products()
